<polymer-element name="rune-anvil" attributes="input">
    <template>
        <link rel="stylesheet" href="rune_anvil.css">

        <div id="messages">
            <template repeat="{{message in messages | take(20)}}">
                <div class="message" horizontal layout>
                    <paper-icon-button icon="cancel" detail="{{message}}" on-tap="{{destroyAction}}"></paper-icon-button>
                    <flip-card>
                        <p front>{{message | translateTextToStave }}</p>
                        <p back>{{message | translateTextToPhonetic }}</p>
                    </flip-card>
                </div>
            </template>
        </div>


        <div horizontal layout relative>
            <div id="tip" class="rune-characters"><h1>ᛊᛏᛖᚦᛁ</h1></div>
            <div id="rune-translator" tabindex="0" horizontal layout>
                <template if="{{ showHint || width >= 480 }}">
                    <div id="phonetics">
                        <div class="translation">{{ translateTextToPhonetic(input) }}<span class="caret"></span></div>
                    </div>
                </template>
                <template if="{{ !showHint || width >= 480}}">
                    <div id='runes'>
                        <div class="translation">{{ translateTextToStave(input) }}<span class="caret"></span></div>
                    </div>
                </template>
            </div>
            <div class="actions" relative>
                <paper-fab icon="send"></paper-fab>
                <!--<core-icon-button id="copy" icon="content-copy"></core-icon-button>-->
            </div>
        </div>

        <template if="{{language.name == 'Elder Futhark'}}">
            <div id="normalInput" horizontal layout>
                <input placeholder="Converteer Nederlandse tekst">
                <div class="actions">
                    <paper-icon-button icon="done" class="done"></paper-icon-button>
                    <rune-rules></rune-rules>
                    <!--<select>-->
                        <!--<option value="dutch">Nederlands</option>-->
                    <!--</select>-->
                    <div class="alert"></div>
                </div>
            </div>
        </template>

        <div id="keyboard">
            <template repeat="{{ line in keyboard }}">
                <div class="line">
                    <template repeat="{{key in line}}"><paper-button id="{{ key }}"
                            >{{ showHint ? (key | findRune).sound : (key | findRune).stave}}</paper-button></template>
                </div>
            </template>
            <paper-button id="Backspace">←</paper-button>
            <button id="stave">Staaf</button>
            <button id="sound">Klank</button>
            <select id="language">
                <option template repeat="{{l in languages}}" value="{{l.name}}">{{l.name}}</option>
            </select>
            <core-selector id="keyboard-choice" selected="{{keyboardChoice}}">
                <span>QWERTY</span>
                <span>QWERTZ</span>
                <span>AZERTY</span>
            </core-selector>
        </div>

    </template>
    <script type="application/dart" src="rune_anvil.dart"></script>
</polymer-element>
